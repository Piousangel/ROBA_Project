<html>
    <head>
        <title>제목</title>
        <meta charset="utf-8"/>

        <!-- <link type="text/css" rel="stylesheet" href="../css/design.css"/> css파일
        불러올때 -->

        <style>
            @font-face {
                font-family: 'GongGothicLight';
                src: url("https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-10@1.0/GongGothicLight.woff") format('woff');
                font-weight: normal;
                font-style: normal;
            }

            body {
                padding: 0;
                margin: 0;
            }
            #wrap {
                width: 1920px;
                height: 1080px;
                margin: 0;
                padding: 0;
                background-color: rgb(246, 243,238);
                position: absolute;
            }

            #state {
                position: absolute;
                top: 358px;
                left: 560px;
                font-family: 'GongGothicLight' , sans-serif;
                font-size: 37pt;
                /* 이거 다시 수정해야 할듯. */
                color: rgb(116, 72, 33);
                margin: 0;
            }

            #roba_Logo {

                position: absolute;
                top: 463px;
                left: 658px;
                width: 550px;
                margin: 0;
            }

            #line_Animation {
                position: absolute;
                top: 700px;
                left: 155px;
                margin: 0;
            }

            .order_confirm {
                position: absolute;
                top: 752px;
                left: 729px;
                height: 204px;
                width: 466px;
                border: none;
                margin: 0;
                padding: 0;
                z-index: 10;
            }

            .img_releative {
                position: absolute;
                top: 0;
                left: 0;
                z-index: 0;
            }
        </style>

    </head>

    <body
        onload="init();"
        oncontextmenu='return false'
        onselectstart='return false'
        ondragstart='return false'>
        <div id="wrap">

            <p id="runningtime" style="color: gray; font-size: 40px;">1</p>

            <p id="state">로바는 지금 주문 가능한 상태 입니다 :)</p>

            <img src="/static/imgs/roba_Logo.svg" alt="logo" id="roba_Logo"/>

            <img src="/static/imgs/normal_line.gif" alt="line" id="line_Animation"/>

            <div class="order_confirm" id="order_confirm">
                <img
                    hidden="hidden"
                    src="/static/imgs/ROBA_1_Main_button.png"
                    alt="btn"
                    class="img_releative"
                    name="order"/>

                <img
                    hidden="hidden"
                    src="/static/imgs/ROBA_1_clicked.png"
                    alt="btn_clicked"
                    class="img_releative"
                    name="order_clicked"/>

            </div>

        </div>

        <script type="text/javascript">

            var timeT = document.getElementById("runningtime");


            var order_btn = [window.document.order, window.document.order_clicked];

            function init() {
                console.log("init");
                img_hide(order_btn);

                order_btn[0].hidden = false;

                cnt = 10;
                countdown();

                document
                    .getElementById("order_confirm")
                    .addEventListener("mousedown", function () {
                        order_btn[0].hidden = true;
                        order_btn[1].hidden = false;
                        
                        console.log("down");
                    })
                document
                    .getElementById("order_confirm")
                    .addEventListener("mouseup", function () {
                        sendPost("/Main");
                    })
            }

            function img_hide(array) {
                for (var i = 0; i < array.length; i++) {
                    array[i].hidden = true;
                }
                console.log("hide complete");
            }

            function countdown() {
                if (cnt == 0) {
                    sendGet('/Main');
                } else {
                    timeT.innerText = cnt;
                    setTimeout("countdown()", 1000);
                    cnt--;
                }
            }

            function sendPost(action) {
                var form = document.createElement('form');
                form.setAttribute('method', 'post');
                form.setAttribute('action', action);
                document.charset = "utf-8";

                var hiddenField = document.createElement('input');
                hiddenField.setAttribute('type', 'hidden');
                form.appendChild(hiddenField);
                document
                    .body
                    .appendChild(form);
                form.submit();
            }

            function sendGet(action) {
                var form = document.createElement('form');
                form.setAttribute('method', 'get');
                form.setAttribute('action', action);
                document.charset = "utf-8";

                var hiddenField = document.createElement('input');
                hiddenField.setAttribute('type', 'hidden');
                form.appendChild(hiddenField);
                document
                    .body
                    .appendChild(form);
                form.submit();
            }
        </script>

    </body>
</html>